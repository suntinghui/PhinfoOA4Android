package cn.com.phinfo.adapter;import android.app.Activity;import android.content.Intent;import android.view.LayoutInflater;import android.view.View;import android.view.View.OnClickListener;import android.view.ViewGroup;import android.widget.ImageView;import android.widget.TextView;import cn.com.phinfo.oaact.R;import cn.com.phinfo.oaact.ReportAct;import cn.com.phinfo.oaact.SearchReportAct;import cn.com.phinfo.oaact.SetGroupUserAct;import cn.com.phinfo.protocol.GroupRun.GroupItem;import com.alibaba.fastjson.JSON;import com.heqifuhou.adapterbase.MyAdapterBaseAbs;public class VisibleGroupAdapter extends MyAdapterBaseAbs<GroupItem> {	private Activity act;	public VisibleGroupAdapter(Activity act){		this.act = act;	}	@Override	public View getView(int arg0, View arg1, ViewGroup arg2) {		Holder holder = null;		if (arg1 == null) {			holder = new Holder();			arg1 = LayoutInflater.from(arg2.getContext()).inflate(					R.layout.adapter_select_visible_group_item, null);			holder.name = (TextView) arg1.findViewById(R.id.name);			holder.tick = (ImageView) arg1.findViewById(R.id.tick);			holder.tip = (ImageView) arg1.findViewById(R.id.tip);			arg1.setTag(holder);		} else {			holder = (Holder) arg1.getTag();		}		GroupItem it = this.getItem(arg0);		holder.name.setText(it.getName());		if(it.isbSel()){			holder.tick.setImageResource(R.drawable.tick_hover);		}else{			holder.tick.setImageResource(R.drawable.tick_n);		}				holder.tip.setTag(it);		holder.tip.setOnClickListener(new OnClickListener() {			@Override			public void onClick(View arg0) {				GroupItem it = (GroupItem)arg0.getTag();				Intent intent = new Intent(act,SetGroupUserAct.class);				intent.putExtra("GroupItem", JSON.toJSONString(it));				intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);				act.startActivity(intent);			}		});		return arg1;	}		public String getGroupAll(){		StringBuilder sb = new StringBuilder();		for(int i=0;i<this.getCount();i++){			GroupItem it = this.getItem(i);			if(it.isbSel()){				if(sb.length()>0){					sb.append(",");				}				sb.append(it.getGroupId());			}		}		return sb.toString();	}	public static class Holder {		public TextView name;		public ImageView tick,tip;	}}