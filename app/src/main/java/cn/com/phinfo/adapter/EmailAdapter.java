package cn.com.phinfo.adapter;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.widget.ImageView;import android.widget.TextView;import cn.com.phinfo.oaact.R;import cn.com.phinfo.protocol.EmailListRun.EmailItem;import cn.com.phinfo.protocol.LURLInterface;import com.heqifuhou.adapterbase.MyImgAdapterBaseAbs;public class EmailAdapter extends MyImgAdapterBaseAbs<EmailItem>{	@Override	public View getView(int arg0, View arg1, ViewGroup arg2) {		Holder hoder = null;		if (arg1 == null) {			hoder = new Holder();			arg1 = LayoutInflater.from(arg2.getContext()).inflate(					R.layout.adapter_email_item, null);			hoder.name = (TextView) arg1.findViewById(R.id.name);			hoder.title = (TextView) arg1.findViewById(R.id.title);			hoder.date = (TextView) arg1.findViewById(R.id.date);			hoder.pic = (ImageView) arg1.findViewById(R.id.pic);			hoder.point = arg1.findViewById(R.id.point);			arg1.setTag(hoder);		}else{			hoder = (Holder) arg1.getTag();		}		EmailItem it = this.getItem(arg0);		hoder.name.setText(it.getFromName());		hoder.date.setText(it.getCreatedOn());		hoder.title.setText(it.getSubject());		if(it.getIsRead()){			hoder.point.setVisibility(View.GONE);		}else{			hoder.point.setVisibility(View.VISIBLE);		}		this.getAsyncAvatar(hoder.pic,LURLInterface.GET_AVATAR(it.getFromUserId()),it.getFromName());		return arg1;	}		public void del(EmailItem it){		boolean bFound = false;		for(int i=0;i<this.getCount();i++){			EmailItem _it = this.getItem(i);			if(_it.getEmailId().equals(it.getEmailId())){				remove(i);				bFound = true;				break;			}		}		if(bFound){			this.notifyDataSetChanged();		}	}	public void setRead(EmailItem it){		it.setIsRead(true);		notifyDataSetChanged();	}	class Holder{		public TextView name,date,title;		public ImageView pic;		public View point;	}}