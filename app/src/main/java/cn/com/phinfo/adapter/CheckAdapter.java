package cn.com.phinfo.adapter;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.view.View.OnClickListener;import android.widget.TextView;import cn.com.phinfo.oaact.R;import cn.com.phinfo.protocol.AttendDetailRun.AttendDetailItem;import cn.com.phinfo.protocol.AttentdsettingsRun.AttentdSettingsData;import cn.com.phinfo.protocol.AttentdsettingsRun.UserSettingsItem;import cn.com.phinfo.protocol.GetDailyRun.DailyItem;import com.heqifuhou.adapterbase.MyAdapterBaseAbs;import com.heqifuhou.utils.ParamsCheckUtils;public class CheckAdapter extends MyAdapterBaseAbs<DailyItem> {	private AttentdSettingsData attendssettnigs;	private String[] userSettingsTimes;	@Override	public View getView(int arg0, View arg1, ViewGroup arg2) {		Holder hoder = null;		if (arg1 == null) {			hoder = new Holder();			arg1 = LayoutInflater.from(arg2.getContext()).inflate(					R.layout.adapter_check_item, null);			hoder.date = (TextView) arg1.findViewById(R.id.date);			hoder.title = (TextView) arg1.findViewById(R.id.title);			hoder.title1 = (TextView) arg1.findViewById(R.id.title1);			hoder.wifi = (TextView) arg1.findViewById(R.id.wifi);			hoder.address = (TextView) arg1.findViewById(R.id.address);			hoder.outBag = (TextView) arg1.findViewById(R.id.outBag);			hoder.laterBag = (TextView) arg1.findViewById(R.id.laterBag);			hoder.updateAddress = (TextView) arg1					.findViewById(R.id.updateAddress);			hoder.updateReplacement = (TextView) arg1					.findViewById(R.id.updateReplacement);			arg1.setTag(hoder);		} else {			hoder = (Holder) arg1.getTag();		}		DailyItem it = this.getItem(arg0);		// 0 – 上班打卡		// 1 – 下班打卡		// 2 - 外勤上班打卡		// 3 - 外勤下班打开		if ("2".equals(it.getCheckType()) || "3".equals(it.getCheckType())) {			hoder.outBag.setVisibility(View.VISIBLE);			hoder.address.setVisibility(View.VISIBLE);			hoder.wifi.setVisibility(View.GONE);			hoder.address.setText(it.getLocation());		}		//内勤的		else {			//地址的			if(ParamsCheckUtils.isNull(it.getWifiName())){				hoder.address.setVisibility(View.VISIBLE);				hoder.wifi.setVisibility(View.GONE);				hoder.address.setText(it.getLocation());			}else{				hoder.address.setVisibility(View.GONE);				hoder.wifi.setVisibility(View.VISIBLE);				hoder.wifi.setText(it.getWifiName());			}			hoder.outBag.setVisibility(View.GONE);		}		hoder.title.setText("打卡时间" + it.getCheckTime());		if (arg0 % 2 == 0) {			hoder.date.setBackgroundResource(R.drawable.oval_afb2b5_bg);			hoder.date.setText("上");		} else {			hoder.date.setBackgroundResource(R.drawable.oval_55bdf2_bg);			hoder.date.setText("下");		}				if (attendssettnigs != null) {			if ("1".equals(it.getAbnormalCode())) {				hoder.laterBag.setVisibility(View.VISIBLE);				hoder.laterBag.setText("迟到");			} else if ("2".equals(it.getAbnormalCode())) {				hoder.laterBag.setVisibility(View.VISIBLE);				hoder.laterBag.setText("早退");			} else if ("3".equals(it.getAbnormalCode())) {				hoder.laterBag.setVisibility(View.VISIBLE);				hoder.address.setVisibility(View.GONE);				hoder.wifi.setVisibility(View.GONE);				hoder.laterBag.setText("缺卡");			} else {				hoder.laterBag.setVisibility(View.GONE);			}			if (arg0 % 2 == 0) {				hoder.title1.setText("(上班时间" + userSettingsTimes[arg0]+")");			} else {				hoder.title1.setText("(下班时间" + userSettingsTimes[arg0]+")");			}		}		return arg1;	}	public void setAttentdSettingsData(AttentdSettingsData attendssettnigs) {		this.attendssettnigs = attendssettnigs;		if(attendssettnigs==null||attendssettnigs.getUserSettings()==null){			return;		}		userSettingsTimes = new String[] {				attendssettnigs.getUserSettings().getStartTime1(),				attendssettnigs.getUserSettings().getEndTime1(),				attendssettnigs.getUserSettings().getStartTime2(),				attendssettnigs.getUserSettings().getEndTime2(),				attendssettnigs.getUserSettings().getStartTime3(),				attendssettnigs.getUserSettings().getEndTime3() };		this.notifyDataSetChanged();	}	class Holder {		public TextView date, title, title1, address, outBag, laterBag,				updateAddress,wifi,updateReplacement;	}}