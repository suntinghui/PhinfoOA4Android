package cn.com.phinfo.adapter;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.widget.ImageView;import android.widget.ProgressBar;import android.widget.TextView;import cn.com.phinfo.oaact.R;import cn.com.phinfo.protocol.AttacheFileRun.AttacheFileItem;import com.heqifuhou.adapterbase.MyAdapterBaseAbs;public class FileAttacheAdapter extends MyAdapterBaseAbs<AttacheFileItem>{	private boolean bAttache=false;	public FileAttacheAdapter(boolean bAttache){		this.bAttache = bAttache;	}	@Override	public View getView(int arg0, View arg1, ViewGroup arg2) {		Holder hoder = null;		if (arg1 == null) {			hoder = new Holder();			arg1 = LayoutInflater.from(arg2.getContext()).inflate(					R.layout.adapter_fileattache_item, null);			hoder.name = (TextView) arg1.findViewById(R.id.name);			hoder.kbSize = (TextView) arg1.findViewById(R.id.kbSize);			hoder.pic = (ImageView) arg1.findViewById(R.id.pic);			hoder.progressbar = (ProgressBar) arg1.findViewById(R.id.progress);			hoder.state = (TextView) arg1.findViewById(R.id.state);			arg1.setTag(hoder);		}else{			hoder = (Holder) arg1.getTag();		}		AttacheFileItem it = this.getItem(arg0);		hoder.name.setText(it.getName());		hoder.kbSize.setText("("+it.getFileSize2KB()+")");		if(bAttache){			hoder.pic.setVisibility(View.VISIBLE);			hoder.pic.setImageResource(it.getImgResId());		}else{			hoder.pic.setVisibility(View.GONE);		}				if(it.getProgress()>0){			hoder.state.setVisibility(View.VISIBLE);			hoder.state.setText(it.getProgress()+"%");			hoder.progressbar.setVisibility(View.VISIBLE);			hoder.progressbar.setProgress(it.getProgress());		}else{			hoder.progressbar.setVisibility(View.GONE);			hoder.state.setVisibility(View.GONE);		}		return arg1;	}		public void startAll(){		for(int i=0;i<this.getCount();i++){			AttacheFileItem it= this.getItem(i);			it.startDownLoad();		}	}	public void stopAll(){		for(int i=0;i<this.getCount();i++){			AttacheFileItem it= this.getItem(i);			it.stop();		}	}	class Holder{		public TextView name,kbSize,title,state;		public ImageView pic;		public ProgressBar progressbar;	}}