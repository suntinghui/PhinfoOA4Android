package cn.com.phinfo.protocol;import android.util.Log;import java.util.List;import java.util.Stack;import cn.com.phinfo.entity.AttacheFileItemBase;import cn.com.phinfo.protocol.FileSearchRun.UFileItem;import com.alibaba.fastjson.JSON;import com.alibaba.fastjson.annotation.JSONField;import com.heqifuhou.imgutils.FileItem;import com.heqifuhou.protocolbase.HttpResultBeanBase;import com.heqifuhou.protocolbase.QuickRunObjectBase;import com.heqifuhou.utils.ParamsCheckUtils;public class AttacheFileRun extends QuickRunObjectBase {	public AttacheFileRun(String id) {		super(LURLInterface.GET_URL_ATTACHEFILE_GETLIST(id),null,AttacheFileResultBean.class);	}		public static class AttacheFileResultBean extends HttpResultBeanBase{		private int rowsPerPage;		private int page;		@JSONField(serialize=false)		private List<AttacheFileItem> attacheList = new Stack<AttacheFileItem>();		@JSONField(serialize=false)		private List<AttacheFileItem> fileList = new Stack<AttacheFileItem>();				private List<AttacheFileItem> listData = new Stack<AttacheFileItem>();		public int getRowsPerPage() {			return rowsPerPage;		}		public void setRowsPerPage(int rowsPerPage) {			this.rowsPerPage = rowsPerPage;		}		public int getPage() {			return page;		}		public void setPage(int page) {			this.page = page;		}		public List<AttacheFileItem> getListData() {			return listData;		}		public void setListData(List<AttacheFileItem> listData) {			this.listData = listData;		}		@JSONField(serialize=false)		public List<AttacheFileItem> getAttach(){			tryGetList();			return attacheList;		}		@JSONField(serialize=false)		public List<AttacheFileItem> getFile(){			tryGetList();			return fileList;		}				@JSONField(serialize=false)		private void tryGetList(){			if(attacheList.isEmpty()&&fileList.isEmpty()){				for(int i=0;i<listData.size();i++){					AttacheFileItem it = listData.get(i);					if(it.getIsAttach()){						attacheList.add(it);					}else{						fileList.add(it);					}				}			}		}	}	public static class AttacheFileItem extends AttacheFileItemBase{		private String id;		private String name;		private String createdOn;		private String date;		private String fileExtension;		private String shareUrl;		public String getShareUrl() {			return shareUrl;		}		public void setShareUrl(String shareUrl) {			this.shareUrl = shareUrl;		}		public AttacheFileItem(){					}//		public static AttacheFileItem init(FileItem it){//			AttacheFileItem _it = new AttacheFileItem();//			_it.(it.getFileLocalPath());//			return _it;//		}		public static AttacheFileItem init(UFileItem it){//			AttacheFileItem _it = new AttacheFileItem();//			_it.setId(it.getId());//			_it.setCreatedOn(it.getCreatedOn());//			_it.setFileExtension(it.getFileExtension());//			_it.setName(it.getName());//			_it.setLink(it.getLink());//			_it.setFileSize(it.getFileSize());//			return _it;			String s =  JSON.toJSONString(it);			return JSON.parseObject(s,AttacheFileItem.class);		}		public void setAttach(boolean isAttach) {			this.isAttach = isAttach;		}		private boolean isAttach;		public boolean getIsAttach() {			return isAttach;		}		public void setIsAttach(boolean isAttach) {			this.isAttach = isAttach;		}		private String link;		private String fileSize;		public String getFileSize() {			return fileSize;		}		@JSONField(serialize=false)		public long getSize(){			try{				return Long.parseLong(fileSize);			}			catch(Exception e){				return 1;			}		}		@JSONField(serialize=false)		public String getFileSize2KB(){			if(ParamsCheckUtils.isNull(fileSize)){				return "0"+"kb";			}			float n = Float.parseFloat(fileSize);			n = n/1024;		    String st = String.format("%.2f", n);			return st+"kb";		}		public void setFileSize(String fileSize) {			this.fileSize = fileSize;		}		public String getId() {			return id;		}		public void setId(String id) {			this.id = id;		}		public String getName() {			return name;		}		public void setName(String name) {			this.name = name;		}		public String getCreatedOn() {			return createdOn;		}		public void setCreatedOn(String createdOn) {			this.createdOn = createdOn;		}		public String getDate() {			return date;		}		public void setDate(String date) {			this.date = date;		}		public String getFileExtension() {			return fileExtension;		}		public void setFileExtension(String fileExtension) {			this.fileExtension = fileExtension;		}		public String getLink() {			return link;		}		public void setLink(String link) {			this.link = link;		}		@Override		@JSONField(serialize = false)		protected String _getLink() {			return this.getLink();		}		@Override		@JSONField(serialize = false)		protected String _getFileExtension() {			return this.getFileExtension();		}		@Override		@JSONField(serialize = false)		protected String _getFileLocalPath() {			// TODO Auto-generated method stub			return null;		}	}}