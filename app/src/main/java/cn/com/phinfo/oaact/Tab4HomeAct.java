package cn.com.phinfo.oaact;import android.content.Intent;import android.os.Bundle;import android.view.View;import android.view.View.OnClickListener;import android.widget.ImageView;import android.widget.TextView;import cn.com.phinfo.entity.DataInstance;import cn.com.phinfo.protocol.LURLInterface;import cn.com.phinfo.protocol.LoginRun.LoginResultBean;import com.heqifuhou.protocolbase.HttpResultBeanBase;import com.heqifuhou.tab.HttpMyActTabChildBase;import com.heqifuhou.utils.ParamsCheckUtils;import com.heqifuhou.view.ConfirmDialog.OnDialogOKListener;import com.heqifuhou.view.ExitAccountDialog;public class Tab4HomeAct extends HttpMyActTabChildBase implements OnClickListener{	private final int ID_Avator = 0x11,ID_Exit = 0x12,ID_UPDATE = 0x13;	private ImageView photo;	private TextView txt;	public void onCreate(Bundle savedInstanceState) {		super.onCreate(savedInstanceState);		this.addTextNav("个人信息");		this.hideBackNav();		this.addViewFillInRoot(R.layout.act_tab4);		this.findViewById(R.id.photo_li).setOnClickListener(this);		this.findViewById(R.id.Name).setOnClickListener(this);		this.findViewById(R.id.setting).setOnClickListener(this);		this.findViewById(R.id.loginout_btn).setOnClickListener(this);		txt = (TextView) this.findViewById(R.id.photo_title);			photo = (ImageView) this.findViewById(R.id.photo_Icon);	}		protected void onResume(){		super.onResume();		LoginResultBean bean = DataInstance.getInstance().getUserBody() ;		if(bean== null){			return;		}		this.getAsyncAvatar(photo,LURLInterface.GET_AVATAR(bean.getUserid()),bean.getNickname());		if(ParamsCheckUtils.isNull(bean.getNickname())||ParamsCheckUtils.isNull(bean.getNickname())){			return;		}		txt.setText(bean.getNickname());	}			@Override	public void onClick(View arg0) {		switch (arg0.getId()) {		case R.id.photo_li://照片			startPhotos();			break;		case R.id.Name://相册			startMyPhotosAction();			break;		case R.id.setting://设置			startMySettingAction();			break;		case R.id.loginout_btn:			showExitDialog();			break;		default:			break;		}	}	//退出登陆	private void showExitDialog() {		ExitAccountDialog pop = new ExitAccountDialog(this.getParent(),null);		pop.setOnDialogOKListener(new OnDialogOKListener() {			@Override			public void onOKItem(Object obj) {				DataInstance.getInstance().saveUser(DataInstance.getInstance().getName(),null,null);				DataInstance.getInstance().setNull();				exit();				//启动新的程序				startLoginAction();			}		});		pop.show();	}		private void startMyPhotosAction(){//		Intent intent = new Intent(this,PersonTabAct.class);//		intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);//		this.startActivity(intent);	}	private void startMySettingAction(){		Intent intent = new Intent(this,MySettingAct.class);		intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP|Intent.FLAG_ACTIVITY_NEW_TASK);		this.startActivity(intent);	}		private void startLoginAction(){		Intent intent = new Intent(this,SplashAct.class);		intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP|Intent.FLAG_ACTIVITY_NEW_TASK);		this.startActivity(intent);	}	private void startPhotos(){		Intent intent = new Intent(this,PersonTabAct.class);		intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);		this.startActivity(intent);	}	@Override	public void onHttpResult(int id, HttpResultBeanBase obj,			Object requestObj) {		if(0x10==id){		}	}}